CREATE TABLE PACIENTE (
CPF BIGINT NOT NULL PRIMARY KEY,
NOME VARCHAR(20) NOT NULL,
CEP INT NOT NULL);

CREATE TABLE FUNCIONARIO (
MATRICULA INT NOT NULL PRIMARY KEY,
NOME VARCHAR(20) NOT NULL,
CEP INT NOT NULL);

CREATE TABLE ESPECIALIDADE (
COD_ESP INT NOT NULL PRIMARY KEY,
NOME VARCHAR(30) NOT NULL,
VALOR FLOAT NOT NULL);

CREATE TABLE MEDICO (
CRM INT NOT NULL PRIMARY KEY,
COD_ESP INT NOT NULL REFERENCES ESPECIALIDADE(COD_ESP),
NOME VARCHAR(20) NOT NULL,
CEP INT NOT NULL);

CREATE TABLE CONSULTA (
COD_CONS INT NOT NULL PRIMARY KEY,
CRM INT NOT NULL REFERENCES MEDICO(CRM),
CPF BIGINT NOT NULL REFERENCES PACIENTE(CPF),
MATRICULA INT NOT NULL REFERENCES FUNCIONARIO(MATRICULA),
DIAGNOSTICO VARCHAR(60) NOT NULL,
DT_CONSULTA DATE NOT NULL,
VALOR FLOAT NOT NULL);

INSERT INTO PACIENTE VALUES 
(05472010366, 'ALBERTO', 64006100, '2005-04-22'),
(13255366842, 'HELENA MARIA', 64006102, '1970-02-10'),
(33216548912, 'LUCAS LIMA', 64006700, '1945-06-29');

INSERT INTO FUNCIONARIO VALUES
(100001, 'HUGO', 64006109),
(100002, 'JULIA', 64006701),
(100003, 'HELIO', 64006109);

INSERT INTO ESPECIALIDADE VALUES
(1, 'CARDIOLOGIA', 255.65),
(2, 'GASTROENTEROLOGIA', 280.66),
(3, 'NEUROLOGIA', 525.75);

INSERT INTO MEDICO VALUES 
(630255, 3, 'JOAQUIM', 64006107),
(632289, 1, 'MARIA', 64006201),
(635712, 1, 'FRANCISCA', 64006107);

INSERT INTO CONSULTA VALUES
(20001, 630255, 05472010366, 100002, 'IDENTIFICADO ESCLEROSE MULTIPLA.', '2023-04-12', 
 (SELECT VALOR FROM ESPECIALIDADE WHERE COD_ESP=(SELECT COD_ESP FROM MEDICO WHERE CRM=630255))),
(20002, 635712, 33216548912, 100001, 'IDENTIFICADO ARRITIMIA CARDIACA.', '2023-05-29',
 (SELECT VALOR FROM ESPECIALIDADE WHERE COD_ESP=(SELECT COD_ESP FROM MEDICO WHERE CRM=635712))),
(20003, 630255, 33216548912, 100003, 'IDENTIFICADO DOENÇA DE PARKINSON.', '2023-05-29', 
 (SELECT VALOR FROM ESPECIALIDADE WHERE COD_ESP=(SELECT COD_ESP FROM MEDICO WHERE CRM=630255)));
 

-- QUESTÕES DE SQL

 --OBTER O NOME DE TODOS OS FUNCIONARIOS DA CLINICA:
 --OBTER O NOME DO PACIENTE QUE NASCERAM NO ANO DE 2005:
 --OBTER O NOME DOS PACIENTE QUE FORAM ATENDIDOS PELO MEDICO JOAQUIM OU PELA FUNCIONARIO JULIA:
 --OBTER O NOME DO PACIENTE MAIS VELHO:
 --OBTER O NOME DOS PACIENTES QUE NÃO FORAM ATENDIDOS PELA MEDICA FRANCISCA:
 --OBTER O NOME DOS PACIENTES QUE FORAM ATENDIDOS PELA MEDICA FRANCISCA:
 --OBTER O NOME DOS PACIENTES QUE FORAM ATENDIDOS POR TODOS OS MEDICOS CADASTRADOS NA CLINICA:
 --OBTER TODAS AS INFORMAÇÕES DOS PACIENTES QUE NASCERAM ANTES DO ANO 1990:
--OBTER O NOME DOS PACIENTES QUE SE CONSULTARAM COM MEDICOS DA ESPECIALIDADE NEUROLOGIA:
--OBTER O CRM E NOME DOS MEDICOS QUE NÃO REALIZARAM CONSULTAS NA CLINICA:
--OBTER O NOME DOS MEDICOS QUE TEM O VALOR DE ESPECIALIDADE MAIOR QUE A, MEDIA DE TODAS AS OUTRAS.*/
--OBTER O NOME DO PACIENTE MAIS VELHO QUE FOI ATENDIDO PELO FUNCIONARIO DE NOME HUGO OU CONSULTADO PELO MEDICO DE ESPECIALIDADE NEUROLOGIA*/
--REAJUSTAR O VALOR DA CONSULTA PARA -10% DO VALOR ATUAL:
--OBTER O NOME DAS ESPECIALIDADES QUE POSSUEM PREÇOS ENTRE R$150 E R$250:
--OBTER O NOME DAS ESPECIALIDADES QUE POSSUEM A PALAVRA NEUROLOGIA:
--OBTER O NOME DO PACIENTE MAIS NOVO:
--OBTER O NOME DOS PACIENTES QUE POSSUI A LETRA A NO NOME:
